# 1 概述

介绍Java虚拟机内存的各个区域，讲解这些区域的作用、服务对象以及其中可能产生的问题。





# 2 运行时数据区域

Java虚拟机将它所管理的内存划分为以下几个运行时的数据区域



![image-20211226145847642](https://images-lu.oss-cn-shanghai.aliyuncs.com/image-20211226145847642.png)



## 2.1 程序计数器

程序计数器（Program Counter Register）是一块较小的内存空间，它可以看作是当前**线程**所执行的字节码的行号指示器。每条线程都需要有一个独立的程序计数器，各条线程之间计数器互不影响，独立存储，这类内存区域又叫“线程私有”的内存。

如果线程正在执行的是一个Java方法，这个计数器记录的是正在执行的虚拟机字节码指令的地址；如果正在执行的是本地（Native）方法，这个计数器值则应为空（Undefined）。此内存区域是唯一一个在《Java虚拟机规范》中没有规定任何OutOfMemoryError情况的区域。



## 2.2 Java虚拟机栈

Java虚拟机栈（Java Virtual Machine Stack）也是线程私有的，它的生命周期与线程相同。虚拟机栈描述的是Java方法执行的线程的内存模型：每个方法被执行的适合，Java虚拟机都会同步创建一个栈帧（Stack Frame）用语存储局部变量表、操作数栈、动态连接、方法出口等信息。















# 3 HotSpot虚拟机对象探秘









# 4 实战：OutOfMemoryError异常

















