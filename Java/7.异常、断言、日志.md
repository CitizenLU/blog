> 异常处理（exception handing）的作用

1. 向用户通知错误
2. 保存所有的工作
3. 允许用户妥善地退出程序



# 1 处理错误

在Java程序运行期间出现的错误，这个错误可能是由于文件包含错误信息、网络连接出现问题、使用了无效的数组下标，试图使用一个没有被赋值的对象引用造成的。我们期望程序应该：

1. 返回到一种安全状态，并能够让用户执行其他的命令；
2. 运行用户保存所有工作的结果，并以妥善的方式终止程序

## 1.1 异常分类

Java中的异常层次结构

![image-20211218170005003](https://images-lu.oss-cn-shanghai.aliyuncs.com/image-20211218170005003.png)

所有的异常都是由Throwable继承而来。

Error类层次结构描述了Java运行时系统的内部错误和资源耗尽错误。如果出现了这样的内部错误，只能通知用户，并尽力妥善地终止程序。

Exception层次结构需要重点关注。这个层次结构主要有两个分支。

> 由编程错误导致的异常属于RuntimeException，一般包括以下问题：

1. 错误的强制类型转换
2. 数组访问越界
3. 访问null指针

> 不是派生与RuntimeException的异常包括：

1. 试图超越文件末尾继续读取数据
2. 试图打开一个不存在的文件
3. 试图根据给定的字符串查找Class对象，而这个字符串表示的类并不存在

Java语言规范将派生于Error类或RuntimeException类的所有异常称为非检查型（unchecked）异常，所有其他的异常称为检查型（checked）异常。

## 1.2 声明检查型异常

以FileInputStream为例，该类的一个构造器的声明如下：

```java
public FileInputStream(String name) throws FileNotFoundException
```

​	这个声明表示这个构造器将根据给定的String参数产生一个FileInputStream对象，但也有可能出错而抛出一个FileNotFoundException异常。如果发生了这种糟糕情况，构造器将不会初始化一个新的FileInputStream对象，而是抛出一个FileNotFoundException类对象。

​	一个方法必须声明所有可能抛出的检查型异常，而非检查型异常要么在你的控制之外（Error），要么是由从一开始就应该避免的情况所导致的（RuntimeException）。

## 1.3 如何抛出异常

throws new xxException

## 1.4 创建异常类

自定义异常















# 2 捕获异常







# 3 使用异常的技巧





# 4 使用断言





# 5 日志







# 6 调试技巧

